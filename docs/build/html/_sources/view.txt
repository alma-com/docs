Представления
==========

Основы использования
-------------------------

Представления (views) содержат HTML-код, передаваемый вашим приложением. Это удобный способ разделения бизнес-логики и логики отображения информации. Представления находятся в каталоге ``class/block/nameYouBlock/views``.

Простое представление выглядит примерно так:

::

	<!-- Представление class/block/bnews/views/detail.pt -->

	<div class="bnews">
	    <h1>$name</h1>
	    <div class="date">$date</div>
	    <a class="photo fancybox_bgal" href="/images/bnews/b_${path}">
	        <img src="/images/bnews/m_$path" alt="">
	    </a>
	    }
	    ^untaint{$full_text}
	</div>
	

Подключить представления можно так:
::
	$data[
		$.name[Наименование новости]
		$.date[12 Сентября 2016]
		$.path[/bank/image.jpg]
		$.full_text[Полный полный текст]
	]
	^view:render[bnews/views/detail.pt;$data]


Вывод представления
-------------------------

Функция ``^view:render[path;data]`` - выводить представления, где:

* ``path`` - путь к шаблону. Если путь относительный, то поиск относительно ``/class/block/``.
* ``data`` - hash с переменными.



Передача данных во все представления
-------------------------

Иногда вам нужно передать данные во все представления вашего приложения. Для этого необходимо `в ядро доработок`_ ``/app/kernel.p`` написать следующее:

.. _`в ядро доработок`: provider.html#kernel

::
	
	^view:share[nameSite;Альма]
	
После этого в любом шаблоне вы можете использовать переменную ``nameSite``.
	